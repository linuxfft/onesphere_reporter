components:
  schemas:
    tighteningResults:
      type: object
      required:
        - torque
        - angle
        - result
        - time
        - tightening_id
        - track_no
      properties:
        torque:
          type: number
          example: 16.4
        angle:
          type: number
          example: 16.4
        result:
          type: string
          example: OK
          enum:
            - OK
            - NOK
            - AK2
            - LSN
        tightening_id:
          type: number
          example: 24234
        time:
          type: string
          example: 2022-12-22 08:12:22
        track_no:
          type: string
          example: 532134dsfe
    generateCalibrateReportReqDataBody:
      type: object
      required:
        - results
        - cmk
        - cpk
      properties:
        cmk:
          type: number
          example: 1.33
        cpk:
          type: number
          example: 1.66
        results:
          type: array
          items:
            $ref: '#/components/schemas/tighteningResults'
    generateCalibrateReportReqData:
      type: object
      required:
        - data
      properties:
        data:
          $ref: "#/components/schemas/generateCalibrateReportReqDataBody"
    generateReportReq:
      type: object
      required:
        - jrxml_file
        - data
      properties:
        jrxml_file:
          type: string
          example: json_test.jrxml
          description: jrxml文件名称，放置在reporters_dir(通过ENV_REPORTS_DIR可设定)路径下
        output_file:
          type: string
          example: json_test.pdf
          description: 报告输出文件名称，放置在reporters_dir(通过ENV_REPORTS_DIR可设定)路径下，按当前日期分目录
        data:
          $ref: "#/components/schemas/generateCalibrateReportReqData"
    generateReportResp:
      type: object
      required:
      - data
      properties:
        data:
          type: string
          description: base64 文件字符串
        error:
          type: string
          description: 错误信息